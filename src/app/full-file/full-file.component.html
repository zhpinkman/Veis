<div class="row no-gutters">
  <div>
    <div class="file-icon-container">
      <div class="file-icon">
        <span class="file-extension" *ngIf="!consts.icons[file.type]">{{file.fileExtension}}</span>
        <i [class]=" 'fi ' + (consts.icons[file.type] || 'flaticon-file-1')"></i>
      </div>
    </div>
    <div *ngIf="filePrivate" class="privacyLevel">
      private
    </div>
    <div class="file-size englishFormat">
      {{ file.size | size }}
    </div>
  </div>

  <div class="file-det">
    <div class="row justify-content-between file-name-option">
      <div class="row file-name">
        <div class="file-name-one-line-ellipsis englishFormat">
          <span class="file-name-text" [hidden]="showEditName">{{file.name}}</span>
          <input class="file-name-input" [hidden]="!showEditName" [(ngModel)]="newFileName">
        </div>
      </div>
      <div [hidden]="!showEditName" class="file-edit-actions clickable" (click)="submitEdit()">
        <i class="fi flaticon-tick"></i>
      </div>
      <div [hidden]="!showEditName" class="file-edit-actions clickable" (click)="cancelEdit()">
        <i class="fi flaticon-cancel"></i>
      </div>
      <div class="file-options">
        <button mat-icon-button [matMenuTriggerFor]="menu" [hidden]="showEditName" #optionsButton>
          <i class="fi flaticon-show-more-button-with-three-dots"></i>
        </button>
        <mat-menu #menu="matMenu" xPosition="before">
          <button mat-menu-item>
            <div dir="rtl" class="clickable edit-icon row no-gutters" (click)="handleRenameInput()">
              <div>
                <i class="fi flaticon-pencil-edit-button
                "></i>
              </div>
              <div class="edit-icon-text">
                ویرایش نام
              </div>
            </div>
          </button>
          <button mat-menu-item>
            <div dir="rtl" class="row no-gutters file-delete clickable" (click)="delete()" [ngClass]="{
                'afterDelete' : hideDeleteIcon
              }">
              <div>
                <i class="fi flaticon-cancel" aria-hidden="true" [ngClass]="{
                  ' fa-spin ' : hideDeleteIcon
                }"></i>
              </div>
              <div [hidden]="hideDeleteIcon" class="delete-text">
                حذف
              </div>
            </div>
          </button>
          <button mat-menu-item>
            <div *ngIf="filePublic" (click)="toggleAccessibility()">
              تغییر دسترسی به خصوصی
            </div>
            <div *ngIf="filePrivate" (click)="toggleAccessibility()">
              تغییر دسترسی به عمومی
            </div>
          </button>
        </mat-menu>
      </div>
    </div>
    <div class="row no-gutters">
      <div class="file-date englishFormat">
        {{file.creationDate | date}}
      </div>
    </div>
  </div>
</div>
<div dir="rtl" class="row no-gutters w-100 bottom-bar">
  <div class="file-download-delete">
    <div class="row no-gutters file-download clickable file-actions" (click)="download()">
      <div class="download-text">
        دانلود
      </div>
      <div class="download-icon">
        <i class="fi flaticon-cloud-computing" aria-hidden="true"></i>
      </div>
    </div>
  </div>
</div>
<div dir="ltr" class="row file-download-det no-gutters">
  <div class="download-url col">
    <input class="download-url-input" type="text" [value]="file.url" readonly #urlInput>
  </div>
  <div class="copy-to-clipboard clickable col-auto" matTooltip="copy to clipboard" (click)="copyToClipboard()">
    <i class="fi flaticon-clipboard-icon"></i>
    <span class="copy-text">copy</span>
  </div>
</div>
